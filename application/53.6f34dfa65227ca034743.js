"use strict";(self.webpackChunkfrontend=self.webpackChunkfrontend||[]).push([[53],{1053:(M,p,a)=>{a.r(p),a.d(p,{LoginModule:()=>q});var h=a(8583),m=a(4655);class v{constructor(){this.titulo="Aten\xe7\xe3o!",this.mensagem="Voc\xea Confirma ?",this.labelOk="OK",this.labelCancel="Cancelar"}}var c=a(2238),l=a(3679),o=a(7716),f=a(1095);let Z=(()=>{class n{constructor(e,t){this.dialogRef=e,this.data=t}ngOnInit(){}actionFunction(){alert("You have logged out."),this.data.mensagem=this.dialogRef.id,this.closeModal()}closeModal(){this.dialogRef.close()}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(c.so),o.Y36(c.WI))},n.\u0275cmp=o.Xpm({type:n,selectors:[["app-progress-bar"]],decls:12,vars:5,consts:[["id","modal-content-wrapper"],["id","modal-header"],["id","modal-title"],["id","modal-body"],["id","modal-footer"],["mat-raised-button","","id","modal-action-button",3,"mat-dialog-close","click"],["mat-raised-button","","id","modal-cancel-button",3,"click"]],template:function(e,t){1&e&&(o.TgZ(0,"div",0),o.TgZ(1,"header",1),o.TgZ(2,"h1",2),o._uU(3),o.qZA(),o.qZA(),o.TgZ(4,"section",3),o.TgZ(5,"p"),o._uU(6),o.qZA(),o.qZA(),o.TgZ(7,"footer",4),o.TgZ(8,"button",5),o.NdJ("click",function(){return t.actionFunction()}),o._uU(9),o.qZA(),o.TgZ(10,"button",6),o.NdJ("click",function(){return t.closeModal()}),o._uU(11),o.qZA(),o.qZA(),o.qZA()),2&e&&(o.xp6(3),o.Oqu(t.data.titulo),o.xp6(3),o.Oqu(t.data.mensagem),o.xp6(2),o.Q6J("mat-dialog-close",t.data),o.xp6(1),o.Oqu(t.data.labelOk),o.xp6(2),o.Oqu(t.data.labelCancel))},directives:[f.lW,c.ZT],styles:["#modal-content-wrapper[_ngcontent-%COMP%]{width:100%;height:100%;display:grid;grid-template-rows:repeat(1fr,3)}#modal-title[_ngcontent-%COMP%]{font-size:22px}#modal-footer[_ngcontent-%COMP%]{justify-self:right;align-self:center}#modal-action-button[_ngcontent-%COMP%]{margin-right:30px;background-color:#3b3b3b}#modal-cancel-button[_ngcontent-%COMP%]{background-color:#4e4e4e}"]}),n})();function C(n,r,e=!1){return t=>{let i="",s=!0;const u=t.value;return e||null!=u?e&&null==u||e&&0==u.length?{ValidatorStringLen:!0,message:"Dado Obrigat\xf3rio"}:e||0!=u.length?(n>0&&u.length<n&&(i=`Campo Dever\xe1 Ter No Minimo ${n} Caracteres.`,s=!1),r>0&&u.length>r&&(i=`Campo Dever\xe1 Ter No M\xe1ximo ${r} Caracteres.`,s=!1),s?null:{ValidatorStringLen:!0,message:i}):null:null}}var d=a(9019),b=a(7465),T=a(5763),O=a(789),g=a(8295),S=a(9983),A=a(6627);function U(n,r){1&n&&(o.TgZ(0,"mat-error"),o._uU(1,"Campo Obrigat\xf3rio "),o.qZA())}function L(n,r){if(1&n&&(o.TgZ(0,"mat-error"),o._uU(1),o.qZA()),2&n){const e=o.oxw();let t;o.xp6(1),o.hij(" ",null==(t=e.formulario.get("senha"))||null==t.errors?null:t.errors.message,"")}}const y=[{path:"",redirectTo:"login",pathMatch:"full"},{path:"login",component:(()=>{class n{constructor(e,t,i,s,u,B){this.formBuilder=e,this.globalService=t,this.usuariosService=i,this.router=s,this.matDialog=u,this.appSnackBar=B,this.usuario=new d.g,this.hide=!0,this.formulario=this.formulario=e.group({id:[{value:""},[l.kI.required,l.kI.min(1),l.kI.max(900)]],senha:[{value:""},[C(1,20,!0)]]})}ngOnInit(){this.usuario=this.globalService.getUsuario(),this.usuario.senha="",this.setValue()}ngOnDestroy(){var e;null===(e=this.inscricaoUsuario)||void 0===e||e.unsubscribe()}setValue(){this.formulario.setValue({id:this.usuario.id,senha:this.usuario.senha})}getUsuario(e,t){this.globalService.setSpin(!0),this.inscricaoUsuario=this.usuariosService.getUsuario(this.globalService.getIdEmpresa(),e).subscribe(i=>{this.usuario=i,console.log("usuario",this.usuario),this.usuario.senha==t?(this.globalService.setUsuario(this.usuario),this.globalService.setLogado(!0)):this.appSnackBar.openWarningnackBar("Usu\xe1rio Ou Senha Incorretos","OK"),this.globalService.setSpin(!1)},i=>{console.log("error",i),this.usuario=new d.g,this.appSnackBar.openFailureSnackBar("Usu\xe1rio Ou Senha Incorretos","OK"),this.globalService.setSpin(!1)})}onValidar(){this.formulario.valid?this.getUsuario(this.formulario.value.id,this.formulario.value.senha):this.appSnackBar.openSuccessSnackBar("Formul\xe1rio Com Campos Inv\xe1lidos.","OK")}onCancelar(){this.router.navigate(["/"])}onSair(){this.globalService.setLogado(!1),this.globalService.setUsuario(new d.g),this.router.navigate(["/"])}onEsqueceu(){this.showDialog("Ola....")}showDialog(e){const t=new v;t.labelOk="Continua...",t.labelCancel="Cancelar";const i=new c.vA;i.disableClose=!0,i.id="modal-component",i.height="350px",i.width="600px",i.data=t,this.matDialog.open(Z,i).beforeClosed().subscribe(u=>{console.log("result",u)})}touchedOrDirty(e){var t,i;return!(!(null===(t=this.formulario.get(e))||void 0===t?void 0:t.touched)&&!(null===(i=this.formulario.get(e))||void 0===i?void 0:i.dirty))}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(l.qu),o.Y36(b.U),o.Y36(T.i),o.Y36(m.F0),o.Y36(c.uw),o.Y36(O.W))},n.\u0275cmp=o.Xpm({type:n,selectors:[["app-login"]],decls:30,vars:5,consts:[[1,"quadro"],["autocomplete","off",1,"formulario",3,"formGroup"],[1,"campos","col-med-1"],["appearance","outline",1,".col-max"],["matInput","","formControlName","id","autofocus",""],[4,"ngIf"],["matInput","","formControlName","senha","required","",3,"type"],["matSuffix","",3,"click"],[1,"campos","col-med-2"],["mat-raised-button","","color","primary",1,"col-70",3,"click"],["mat-raised-button","","color","accent",1,"col-70",3,"click"],[1,"button-container-right"],["mat-button","",1,"green-icon",3,"click"]],template:function(e,t){if(1&e&&(o.TgZ(0,"div",0),o.TgZ(1,"form",1),o.TgZ(2,"h2"),o._uU(3,"Bem Vindo Ao Controle De Saldos"),o.qZA(),o.TgZ(4,"h3"),o._uU(5,"Identifique-se Por Favor"),o.qZA(),o.TgZ(6,"div",2),o.TgZ(7,"mat-form-field",3),o.TgZ(8,"mat-label"),o._uU(9,"ID DO USU\xc1RIO"),o.qZA(),o._UZ(10,"input",4),o.YNc(11,U,2,0,"mat-error",5),o.qZA(),o.qZA(),o.TgZ(12,"div",2),o.TgZ(13,"mat-form-field",3),o.TgZ(14,"mat-label"),o._uU(15,"Senha"),o.qZA(),o._UZ(16,"input",6),o.TgZ(17,"mat-icon",7),o.NdJ("click",function(){return t.hide=!t.hide}),o._uU(18),o.qZA(),o.YNc(19,L,2,1,"mat-error",5),o.qZA(),o.qZA(),o.TgZ(20,"div",8),o.TgZ(21,"button",9),o.NdJ("click",function(){return t.onValidar()}),o._uU(22,"Login"),o.qZA(),o.TgZ(23,"button",10),o.NdJ("click",function(){return t.onCancelar()}),o._uU(24,"Cancelar"),o.qZA(),o.qZA(),o._UZ(25,"br"),o._UZ(26,"br"),o.TgZ(27,"div",11),o.TgZ(28,"button",12),o.NdJ("click",function(){return t.onSair()}),o._uU(29,"Sair"),o.qZA(),o.qZA(),o.qZA(),o.qZA()),2&e){let i,s;o.xp6(1),o.Q6J("formGroup",t.formulario),o.xp6(10),o.Q6J("ngIf","INVALID"==(null==(i=t.formulario.get("id"))?null:i.status)&&t.touchedOrDirty("id")),o.xp6(5),o.Q6J("type",t.hide?"password":"text"),o.xp6(2),o.Oqu(t.hide?"visibility_off":"visibility"),o.xp6(1),o.Q6J("ngIf",(null==(s=t.formulario.get("senha"))||null==s.errors?null:s.errors.ValidatorStringLen)&&t.touchedOrDirty("senha"))}},directives:[l._Y,l.JL,l.sg,g.KE,g.hX,S.Nt,l.Fj,l.JJ,l.u,h.O5,l.Q7,A.Hw,g.R9,f.lW,g.TO],styles:[".quadro[_ngcontent-%COMP%]{width:50%;margin:50px auto;border:2px solid black;box-shadow:10px 10px 5px 6px gray}.formulario[_ngcontent-%COMP%]{margin:10px 10px 10px 30px;align-content:center}h2[_ngcontent-%COMP%]{text-align:center;align-items:center;margin-top:20px;margin-bottom:10px;color:#00f}h3[_ngcontent-%COMP%]{text-align:center;align-items:center;margin-top:20px;margin-bottom:10px;color:red}.campos[_ngcontent-%COMP%]{margin-left:15%}"]}),n})()}];let k=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({imports:[[m.Bz.forChild(y)],m.Bz]}),n})();var x=a(5167),I=a(1470);let q=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({imports:[[h.ez,k,x.q,l.u5,l.UX,I.yI.forChild()]]}),n})()}}]);